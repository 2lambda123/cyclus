<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>CYCLUS: cyclus::MockSim Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">CYCLUS
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacecyclus.html">cyclus</a>      </li>
      <li class="navelem"><a class="el" href="classcyclus_1_1MockSim.html">MockSim</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">cyclus::MockSim Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="cyclus::MockSim" --><hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classcyclus_1_1MockSim.html" title="MockSim is a helper for running full simulations entirely in-code to test archetypes/agents without h...">MockSim</a> is a helper for running full simulations entirely in-code to test archetypes/agents without having to deal with input files, output database files, and other pieces of the full Cyclus stack. </p>
<p>This is especially convenient for writing unit-like tests (e.g. using gtest) for your archetype's in-simulation behavior. Initialize the <a class="el" href="classcyclus_1_1MockSim.html" title="MockSim is a helper for running full simulations entirely in-code to test archetypes/agents without h...">MockSim</a> indicating the archetype you want to test and the simulation duration. Then add any number of sources and/or sinks to transact with your agent. They can have specific recipes (or not) and their deployment and lifetime (before decommissioning) can be specified too. Here is an example using the agents:Source archetype in Cyclus as the tested agent:</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="namespacecyclus.html#a66de06f3d3c1e2f8f401f11fb119217c" title="a raw definition of nuclides and corresponding (dimensionless quantities).">cyclus::CompMap</a> m;
 m[922350000] = .05;
 m[922380000] = .95;
 <a class="code" href="classcyclus_1_1Composition.html#a382b7d2e82b935476b1f4213a15f3eee">cyclus::Composition::Ptr</a> fresh = <a class="code" href="classcyclus_1_1Composition.html#a1f017a1d3a051022da400d51901ccef6" title="Creates a new composition from v with its components having appropriate mass-based ratios...">cyclus::Composition::CreateFromMass</a>(m);

 std::string config =
     <span class="stringliteral">&quot;&lt;commod&gt;enriched_u&lt;/commod&gt;&quot;</span>
     <span class="stringliteral">&quot;&lt;recipe_name&gt;fresh_fuel&lt;/recipe_name&gt;&quot;</span>
     <span class="stringliteral">&quot;&lt;capacity&gt;10&lt;/capacity&gt;&quot;</span>;

 <span class="keywordtype">int</span> dur = 10;
 <a class="code" href="classcyclus_1_1MockSim.html" title="MockSim is a helper for running full simulations entirely in-code to test archetypes/agents without h...">cyclus::MockSim</a> sim(<a class="code" href="classcyclus_1_1AgentSpec.html">cyclus::AgentSpec</a>(<span class="stringliteral">&quot;:agents:Source&quot;</span>), config, dur);
 sim.AddSink(<span class="stringliteral">&quot;enriched_u&quot;</span>).Finalize();
 sim.AddRecipe(<span class="stringliteral">&quot;fresh_fuel&quot;</span>, fresh);
 <span class="keywordtype">int</span> src_id = sim.Run(); <span class="comment">// capture the agent ID of the facility being tested</span>
</pre></div><p>Querying the results can be accomplished by getting a reference to the in-memory database generated. Not all data that is present in normal full-stack simulations is available. However, most of the key core tables are fully available. Namely, the Transactions, <a class="el" href="classcyclus_1_1Composition.html" title="An immutable object responsible for holding a nuclide composition.">Composition</a>, Resources, ResCreators, AgentEntry, and AgentExit tables are available. Any custom-tables created by the tested archetype will also be available. Here is a sample query and test you might write if using the googletest framework:</p>
<div class="fragment"><pre class="fragment"> <span class="comment">// return all transactions where our source facility is the sender</span>
 std::vector&lt;cyclus::Cond&gt; conds;
 conds.push_back(<span class="stringliteral">&quot;SenderId&quot;</span>, <span class="stringliteral">&quot;==&quot;</span>, src_id);
 <a class="code" href="classcyclus_1_1QueryResult.html" title="Meta data and results of a query.">cyclus::QueryResult</a> qr = sim.db().Query(<span class="stringliteral">&quot;Transactions&quot;</span>, &amp;conds);
 <span class="keywordtype">int</span> n_trans = qr.<a class="code" href="classcyclus_1_1QueryResult.html#a1460e5b12034f324de6b87f522d8e164" title="ordered results of a query">rows</a>.size();
 EXPECT_EQ(10, n_trans) &lt;&lt; <span class="stringliteral">&quot;expected 10 transactions, got &quot;</span> &lt;&lt; n_trans;

 <span class="comment">// reconstruct the material object for the first transaction</span>
 <span class="keywordtype">int</span> res_id = qr.<a class="code" href="classcyclus_1_1QueryResult.html#a915144c67f70af5e35c73eabddb67cde" title="Convenience method for retrieving a value from a specific row and named field (column).">GetVal</a>&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;ResourceId&quot;</span>, 0);
 <a class="code" href="classcyclus_1_1Material.html#a7ccfc89ee031403e889e16c9f72a4c24">cyclus::Material::Ptr</a> m = sim.GetMaterial(res_id);
 EXPECT_DOUBLE_EQ(10, m-&gt;quantity());

 <span class="comment">// confirm composition is as expected</span>
 <a class="code" href="classcyclus_1_1toolkit_1_1MatQuery.html" title="A class that provides convenience methods for querying a material&#39;s properties.">cyclus::toolkit::MatQuery</a> mq(m);
 EXPECT_DOUBLE_EQ(0.5, mq.mass(922350000));
 EXPECT_DOUBLE_EQ(9.5, mq.mass(922380000));
</pre></div> 
<p>Definition at line <a class="el" href="mock__sim_8h_source.html#l00132">132</a> of file <a class="el" href="mock__sim_8h_source.html">mock_sim.h</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="mock__sim_8h_source.html">mock_sim.h</a>&gt;</code></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcyclus_1_1MockSim.html#a36348b9239bf2537c5aeda3b53dd2a3a">AddRecipe</a> (std::string name, <a class="el" href="classcyclus_1_1Composition.html#a382b7d2e82b935476b1f4213a15f3eee">Composition::Ptr</a> c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcyclus_1_1MockAgent.html">MockAgent</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcyclus_1_1MockSim.html#a20cb13b8d338ec41fb977cbcc29dad79">AddSink</a> (std::string commod)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcyclus_1_1MockAgent.html">MockAgent</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcyclus_1_1MockSim.html#af57d6256c07b7dd1a006e3de5d801ff9">AddSource</a> (std::string commod)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcyclus_1_1SqliteBack.html">SqliteBack</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcyclus_1_1MockSim.html#a9d1caea21dddf3174b59ae8e64e2b74d">db</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcyclus_1_1MockSim.html#a802dd8c8efd62e99bc28bbe9ba659466">DummyProto</a> (std::string name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcyclus_1_1Material.html#a7ccfc89ee031403e889e16c9f72a4c24">Material::Ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcyclus_1_1MockSim.html#a8852e6fa1abb5b0a0c1c785fe482fedd">GetMaterial</a> (int resid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcyclus_1_1Product.html#a6c3f8020c3bc4cc95cced9c29e7f9c14">Product::Ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcyclus_1_1MockSim.html#a1ac44fdf5871792df87cc6cd225961aa">GetProduct</a> (int resid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcyclus_1_1MockSim.html#a015b33fd78ecada4b43f0de6a01b3cc6">MockSim</a> (<a class="el" href="classcyclus_1_1AgentSpec.html">AgentSpec</a> spec, std::string config, int duration)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcyclus_1_1MockSim.html#aeaf44f17a5c3b4d8ab9575ebece85bdf">Run</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcyclus_1_1MockSim.html#a68aacc05650abec8367968492dc01699">~MockSim</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcyclus_1_1Agent.html">Agent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcyclus_1_1MockSim.html#a7efe5415fa56ceec7313baf5a6303dfa">agent</a></td></tr>
</table>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a015b33fd78ecada4b43f0de6a01b3cc6"></a><!-- doxytag: member="cyclus::MockSim::MockSim" ref="a015b33fd78ecada4b43f0de6a01b3cc6" args="(AgentSpec spec, std::string config, int duration)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcyclus_1_1MockSim.html#a015b33fd78ecada4b43f0de6a01b3cc6">cyclus::MockSim::MockSim</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcyclus_1_1AgentSpec.html">AgentSpec</a>&#160;</td>
          <td class="paramname"><em>spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates and initializes a new mock simulation environment to test the archetype identified by spec. </p>
<p>config should contain the archetype-specific xml snippet excluding the wrapping "&lt;config&gt;" and "&lt;[AgentName]&gt;" tags. duration is the length of the simulation in time steps. </p>

<p>Definition at line <a class="el" href="mock__sim_8cc_source.html#l00115">115</a> of file <a class="el" href="mock__sim_8cc_source.html">mock_sim.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a68aacc05650abec8367968492dc01699"></a><!-- doxytag: member="cyclus::MockSim::~MockSim" ref="a68aacc05650abec8367968492dc01699" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcyclus_1_1MockSim.html#a68aacc05650abec8367968492dc01699">cyclus::MockSim::~MockSim</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mock__sim_8cc_source.html#l00148">148</a> of file <a class="el" href="mock__sim_8cc_source.html">mock_sim.cc</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a36348b9239bf2537c5aeda3b53dd2a3a"></a><!-- doxytag: member="cyclus::MockSim::AddRecipe" ref="a36348b9239bf2537c5aeda3b53dd2a3a" args="(std::string name, Composition::Ptr c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcyclus_1_1MockSim.html#a36348b9239bf2537c5aeda3b53dd2a3a">cyclus::MockSim::AddRecipe</a> </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcyclus_1_1Composition.html#a382b7d2e82b935476b1f4213a15f3eee">Composition::Ptr</a>&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>AddRecipe adds a recipe to the mock simulation environment (i.e. </p>
<p>to the simulation context). Any recipes that your archetype expects to find in the simulation context must be added this way; if the xml configuration snippet for the archetype being tested contains a recipe name, add it with this function. </p>

<p>Definition at line <a class="el" href="mock__sim_8cc_source.html#l00166">166</a> of file <a class="el" href="mock__sim_8cc_source.html">mock_sim.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a20cb13b8d338ec41fb977cbcc29dad79"></a><!-- doxytag: member="cyclus::MockSim::AddSink" ref="a20cb13b8d338ec41fb977cbcc29dad79" args="(std::string commod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcyclus_1_1MockAgent.html">MockAgent</a> <a class="el" href="classcyclus_1_1MockSim.html#a20cb13b8d338ec41fb977cbcc29dad79">cyclus::MockSim::AddSink</a> </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>commod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>AddSink adds a sink facility that can request+receive material from the archetype being tested. </p>
<p>commod specifies the commodity the sink will request on. AddSink can be called multiple times to generate many sinks for the simulation. The returned <a class="el" href="classcyclus_1_1MockAgent.html" title="MockAgent is a template for accumulating configuration information used to generate a source or sink ...">MockAgent</a> object has several functions that can be called to configure the sink's behavior further. Don't forget to call the <a class="el" href="classcyclus_1_1MockAgent.html" title="MockAgent is a template for accumulating configuration information used to generate a source or sink ...">MockAgent</a> object's "Finalize" function when you are done configuring it. <a class="el" href="classcyclus_1_1MockAgent.html" title="MockAgent is a template for accumulating configuration information used to generate a source or sink ...">MockAgent</a>'s functions support chaining:</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classcyclus_1_1MockSim.html" title="MockSim is a helper for running full simulations entirely in-code to test archetypes/agents without h...">cyclus::MockSim</a> sim(...);
 sim.AddSink(<span class="stringliteral">&quot;spent_mox&quot;</span>)
    .start(7).lifetime(3).recipe(<span class="stringliteral">&quot;spent_fresh_mox&quot;</span>)
    .Finalize();
</pre></div> 
<p>Definition at line <a class="el" href="mock__sim_8cc_source.html#l00160">160</a> of file <a class="el" href="mock__sim_8cc_source.html">mock_sim.cc</a>.</p>

</div>
</div>
<a class="anchor" id="af57d6256c07b7dd1a006e3de5d801ff9"></a><!-- doxytag: member="cyclus::MockSim::AddSource" ref="af57d6256c07b7dd1a006e3de5d801ff9" args="(std::string commod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcyclus_1_1MockAgent.html">MockAgent</a> <a class="el" href="classcyclus_1_1MockSim.html#af57d6256c07b7dd1a006e3de5d801ff9">cyclus::MockSim::AddSource</a> </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>commod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>AddSource adds a source facility that can offer/provide material to the archetype being tested. </p>
<p>commod specifies the commodity the source will offer on. AddSource can be called multiple times to generate many sources for the simulation. The returned <a class="el" href="classcyclus_1_1MockAgent.html" title="MockAgent is a template for accumulating configuration information used to generate a source or sink ...">MockAgent</a> object has several functions that can be called to configure the source's behavior further. Don't forget to call the <a class="el" href="classcyclus_1_1MockAgent.html" title="MockAgent is a template for accumulating configuration information used to generate a source or sink ...">MockAgent</a> object's "Finalize" function when you are done configuring it. <a class="el" href="classcyclus_1_1MockAgent.html" title="MockAgent is a template for accumulating configuration information used to generate a source or sink ...">MockAgent</a>'s functions support chaining:</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classcyclus_1_1MockSim.html" title="MockSim is a helper for running full simulations entirely in-code to test archetypes/agents without h...">cyclus::MockSim</a> sim(...);
 sim.AddSource(<span class="stringliteral">&quot;fresh_mox&quot;</span>)
    .start(7).lifetime(3).recipe(<span class="stringliteral">&quot;mox_fuel&quot;</span>)
    .Finalize();
</pre></div> 
<p>Definition at line <a class="el" href="mock__sim_8cc_source.html#l00154">154</a> of file <a class="el" href="mock__sim_8cc_source.html">mock_sim.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a9d1caea21dddf3174b59ae8e64e2b74d"></a><!-- doxytag: member="cyclus::MockSim::db" ref="a9d1caea21dddf3174b59ae8e64e2b74d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcyclus_1_1SqliteBack.html">SqliteBack</a> &amp; <a class="el" href="classcyclus_1_1MockSim.html#a9d1caea21dddf3174b59ae8e64e2b74d">cyclus::MockSim::db</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the underlying in-memory database containing results for the simulation. </p>
<p>Run must be called before the database will contain anything. </p>

<p>Definition at line <a class="el" href="mock__sim_8cc_source.html#l00185">185</a> of file <a class="el" href="mock__sim_8cc_source.html">mock_sim.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a802dd8c8efd62e99bc28bbe9ba659466"></a><!-- doxytag: member="cyclus::MockSim::DummyProto" ref="a802dd8c8efd62e99bc28bbe9ba659466" args="(std::string name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcyclus_1_1MockSim.html#a802dd8c8efd62e99bc28bbe9ba659466">cyclus::MockSim::DummyProto</a> </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a dummy prototype to the simulation that can be used by institutions and other agents for deployment/decommission testing. </p>

<p>Definition at line <a class="el" href="mock__sim_8cc_source.html#l00134">134</a> of file <a class="el" href="mock__sim_8cc_source.html">mock_sim.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a8852e6fa1abb5b0a0c1c785fe482fedd"></a><!-- doxytag: member="cyclus::MockSim::GetMaterial" ref="a8852e6fa1abb5b0a0c1c785fe482fedd" args="(int resid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcyclus_1_1Material.html#a7ccfc89ee031403e889e16c9f72a4c24">Material::Ptr</a> <a class="el" href="classcyclus_1_1MockSim.html#a8852e6fa1abb5b0a0c1c785fe482fedd">cyclus::MockSim::GetMaterial</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>resid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reconstructs a material object from the simulation results database with the given resource state id. </p>

<p>Definition at line <a class="el" href="mock__sim_8cc_source.html#l00177">177</a> of file <a class="el" href="mock__sim_8cc_source.html">mock_sim.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a1ac44fdf5871792df87cc6cd225961aa"></a><!-- doxytag: member="cyclus::MockSim::GetProduct" ref="a1ac44fdf5871792df87cc6cd225961aa" args="(int resid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcyclus_1_1Product.html#a6c3f8020c3bc4cc95cced9c29e7f9c14">Product::Ptr</a> <a class="el" href="classcyclus_1_1MockSim.html#a1ac44fdf5871792df87cc6cd225961aa">cyclus::MockSim::GetProduct</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>resid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reconstructs a product object from the simulation results database with the given resource state id. </p>

<p>Definition at line <a class="el" href="mock__sim_8cc_source.html#l00181">181</a> of file <a class="el" href="mock__sim_8cc_source.html">mock_sim.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aeaf44f17a5c3b4d8ab9575ebece85bdf"></a><!-- doxytag: member="cyclus::MockSim::Run" ref="aeaf44f17a5c3b4d8ab9575ebece85bdf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classcyclus_1_1MockSim.html#aeaf44f17a5c3b4d8ab9575ebece85bdf">cyclus::MockSim::Run</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Runs the simulation. </p>
<p>This can only be called once. After the simulation has been run, this <a class="el" href="classcyclus_1_1MockSim.html" title="MockSim is a helper for running full simulations entirely in-code to test archetypes/agents without h...">MockSim</a> object CANNOT be reused to run other simulations. Run returns the agent ID for the agent being tested for use in queries. </p>

<p>Definition at line <a class="el" href="mock__sim_8cc_source.html#l00170">170</a> of file <a class="el" href="mock__sim_8cc_source.html">mock_sim.cc</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a7efe5415fa56ceec7313baf5a6303dfa"></a><!-- doxytag: member="cyclus::MockSim::agent" ref="a7efe5415fa56ceec7313baf5a6303dfa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcyclus_1_1Agent.html">Agent</a>* <a class="el" href="classcyclus_1_1MockSim.html#a7efe5415fa56ceec7313baf5a6303dfa">cyclus::MockSim::agent</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mock__sim_8h_source.html#l00210">210</a> of file <a class="el" href="mock__sim_8h_source.html">mock_sim.h</a>.</p>

</div>
</div>

<p><a href="classcyclus_1_1MockSim-members.html">List of all members.</a></p>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="mock__sim_8h_source.html">mock_sim.h</a></li>
<li><a class="el" href="mock__sim_8cc_source.html">mock_sim.cc</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 8 2015 00:40:49 for CYCLUS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
